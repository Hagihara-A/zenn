---
title: "ESM+Typescriptで俺の書いたReactをそのまま動かす"
emoji: "🗂"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["react", "typescript"]
published: false
---

TC39が提案する新機能は増え続ける一方で、旧ブラウザとの後方互換性を維持するため、Webフロントエンドのビルドプロセスも同時に複雑になってきています。

もはや以前のようにプログラマが書いたJavascriptがそのままブラウザで実行されることはありません。現代ではポリフィル・バンドラ・マングラなど多数のツールを挟み、自分の命名した変数すら残っていないプログラムを我が物顔で納品することが当たり前になっています。自分でそのコードを読むこともできないのに。

つまりはめんどくさい。新機能がいっぱい増えたんだから、それを使いたい。新機能を使えば使うほどビルドプロセスと生成コードが複雑になっていく今のwebフロントエンドは、なんかおかしい。プロダクションではそういったビルドが必要ではあるけど、せめてwebプログラマを名乗るなら趣味のwebページくらいでは自分で読めるコードを動かしたい。

そういうわけでこの記事の目標は「自分で読めるReactをブラウザで動かす」です。"そのまま"はちょっと盛った。ごめんなさい。

使うツールはReactとTypescriptだけです。モジュールバンドラは使いません。ESMでブラウザに頑張ってもらいます。

幸いなことにTypescriptはjsxのトランスパイルをサポートしています。なのでTypescriptのビルド時に型チェックして、型落として、jsxをプレーンなjavascriptに変換してもらいます。このTSビルド後のコードを読めるようにします。




